(this.webpackJsonptoptrumps=this.webpackJsonptoptrumps||[]).push([[0],[,,,,,,,,,,,function(e){e.exports=JSON.parse('{"images":[{"image":"starship1.jpeg"},{"image":"starship2.png"},{"image":"starship3.jpeg"},{"image":"starship4.jpg"},{"image":"starship5.jpeg"},{"image":"starship6.jpeg"},{"image":"starship7.jpeg"},{"image":"starship8.jpeg"},{"image":"starship9.jpg"},{"image":"starship10.jpeg"}]}')},,,,,,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship1.3dbe3b22.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship2.377c9747.png"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship3.b0efd96d.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship4.879dcff1.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship5.a52e66e7.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship6.8ad97078.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship7.d6b6a40b.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship8.063e29ee.jpeg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship9.80f50005.jpg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/starship10.3281fb99.jpeg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s,c=a(0),r=a(1),i=a(8),n=a.n(i),l=(a(21),a(22),a(4)),d=a(2),u=a(14),b=function(e){var t=e.player1Score,a=e.player2Score;return Object(c.jsx)("div",{className:"score-nav",children:Object(c.jsxs)("div",{className:"player-scores",children:[Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"player-score",children:t})}),Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"player-score",children:a})})]})})},o=function(e){var t=e.title,a=e.model,s=e.manufacturer;return Object(c.jsxs)("div",{className:"card-header",children:[Object(c.jsx)("h3",{children:t}),Object(c.jsxs)("div",{className:"card-additional-info",children:[Object(c.jsxs)("div",{children:["Model: ",a]}),Object(c.jsxs)("div",{children:["Manufacturer: ",s]})]})]})},j=a(3),p=(s={},Object(j.a)(s,"starship1.jpeg",a(23).default),Object(j.a)(s,"starship2.png",a(24).default),Object(j.a)(s,"starship3.jpeg",a(25).default),Object(j.a)(s,"starship4.jpg",a(26).default),Object(j.a)(s,"starship5.jpeg",a(27).default),Object(j.a)(s,"starship6.jpeg",a(28).default),Object(j.a)(s,"starship7.jpeg",a(29).default),Object(j.a)(s,"starship8.jpeg",a(30).default),Object(j.a)(s,"starship9.jpg",a(31).default),Object(j.a)(s,"starship10.jpeg",a(32).default),s),h=function(e){return Object(c.jsx)("div",{className:"card-image-container",children:Object(c.jsx)("img",{src:p[e.image],className:"card-image",alt:""})})},O=a(9),m=a(10),f=a(15),g=a(13),v="ready",x="over",k="replay",y="player1",A="player2",C=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(O.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleAttributeClick=function(){e.props.handleAttributeClick(e.props.attributeKey)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.attributeKey,a=e.label,s=e.value,r=e.status,i=e.selectedAttribute,n=r===v?Object(c.jsx)("div",{className:"card-attribute-value ".concat(i===t&&"selected"),onClick:this.handleAttributeClick,children:s}):Object(c.jsx)("span",{className:"card-attribute-value ".concat(i===t&&"selected"),children:s});return Object(c.jsxs)("div",{className:"card-attribute-row",onClick:this.handleAttributeClick,children:[Object(c.jsxs)("span",{className:"card-attribute-label ".concat(i===t&&"selected"),children:[a,":"]}),n]})}}]),a}(r.Component),w={cost_in_credits:"Cost",length:"Length",max_atmosphering_speed:"Speed",crew:"Crew",passengers:"Passengers",cargo_capacity:"Cargo Capacity"},N=function(e){var t=e.card,a=e.handleAttributeSelection,s=e.status,r=e.selectedAttribute,i=Object.keys(w).map((function(e){return Object(c.jsx)(C,{attributeKey:e,label:w[e],value:t[e],handleAttributeClick:a,selectedAttribute:r,status:s},"attribute-".concat(e))}));return Object(c.jsx)("div",{className:"card-attribute-list",children:i})},S=function(e){var t=e.isClosed,a=e.card,s=e.handleAttributeSelection,r=e.status,i=e.selectedAttribute,n=e.isWinner;return Object(c.jsx)("div",{className:"card ".concat(t&&"closed"),children:t?null:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)(o,{title:a.name,model:a.model,manufacturer:a.manufacturer}),Object(c.jsx)(h,{image:a.image}),Object(c.jsx)(N,{card:a,handleAttributeSelection:s,status:r,selectedAttribute:i,isWinner:n})]})})},W=function(e){var t=e.selectedAttribute,a=e.attributeValue,s=e.isClosed,r=e.isWinner;return t&&s?Object(c.jsx)("div",{className:"selected-attribute",children:r?Object(c.jsxs)("span",{className:"badge badge-success",children:[w[t],":",a]}):Object(c.jsxs)("span",{children:["    ",w[t],":",a]})}):Object(c.jsx)("div",{className:"selected-attribute",children:"Select an attribute"})},D=function(e){var t=e.card,a=e.isClosed,s=e.isWinner,r=e.selectedAttribute,i=e.handleAttributeSelection,n=e.status;return Object(c.jsxs)("div",{className:"card-container ".concat(s&&"winner"),children:[Object(c.jsx)(S,{card:t,isClosed:a,handleAttributeSelection:i,status:n,selectedAttribute:r}),a?null:Object(c.jsx)(W,{selectedAttribute:r,attributeValue:t[r],isClosed:!0,isWinner:s}),Object(c.jsx)("div",{className:"card-result",children:"You won!"})]})},P=function(e){var t=e.player1Card,a=e.player2Card,s=e.status,r=e.handleAttributeSelection,i=e.selectedAttribute,n=e.lastWinner,l=e.isDraw;return Object(c.jsxs)("div",{className:"game-panel",children:[s===x&&Object(c.jsx)("div",{className:"game-nav-result",children:"Game Over"}),l&&Object(c.jsx)("div",{className:"game-nav-result",children:"Draw"}),Object(c.jsx)(D,{card:t,isClosed:s===v&&n===A,handleAttributeSelection:r,selectedAttribute:i,status:s,isWinner:s!==v&&n===y&&!l}),Object(c.jsx)(D,{card:a,isClosed:s===v&&n!==A,handleAttributeSelection:r,selectedAttribute:i,status:s,isWinner:s!==v&&n===A&&!l})]})},I=function(e){var t=e.buttonClassName,a=e.buttonOnClick,s=e.buttonLabel,r=e.buttonIsDisabled;return Object(c.jsx)("button",{className:"btn ".concat(t," ").concat(r&&"disabled"),onClick:a,disabled:r,children:s})};I.defaultProps={buttonClassName:"",buttonOnClick:function(){},buttonLabel:"",buttonIsDisabled:!0};var E=I,L=function(e){var t,a=e.status,s=e.isPlayEnabled,r=e.handleButtonClick;switch(a){case v:t="Play";break;case x:t="Play Again";break;default:t="Shuffle"}return Object(c.jsx)("div",{className:"control-nav",children:Object(c.jsx)(E,{buttonClassName:a===v?"dark":"top-trump",buttonOnClick:r,buttonLabel:t,buttonIsDisabled:!s})})};var M=a(11),R=a(12);a(33);var _=function(){var e=Object(r.useState)({firstRender:!0}),t=Object(u.a)(e,2),a=t[0],s=t[1],i=Object(R.a)("https://swapi.dev/api/vehicles/",(function(){return fetch.apply(void 0,arguments).then((function(e){return e.json()}))})),n=i.data,o=i.error,j=Object(r.useCallback)((function(){"over"!==a.status||a.firstRender||s(Object(d.a)(Object(d.a)({},a),{},{status:k}))}),[a]),p=Object(r.useCallback)((function(){if(a.firstRender||a.status===k)if(o)console.log("Something went wrong");else if(n){var e=Object.values(M.images),t=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),s=[e[a],e[t]];e[t]=s[0],e[a]=s[1]}return e}(n.results.map((function(t,a){return Object(d.a)(Object(d.a)({},t),{},{image:Object.values(e[a])[0]})}))),c=Math.ceil(t.length/2);s({status:v,lastWinner:void 0,deck1:t.slice(0,c),deck2:t.slice(c),selectedAttribute:void 0,isDraw:!1,firstRender:!1,winner:void 0})}else console.log("Loading...");console.log("game in handleResetGame ",a)}),[a,n,o]);Object(r.useEffect)((function(){p()}),[p,a,a.winner]);var h=function(e){return!e.isDraw&&(e.lastWinner===y&&1===e.deck2.length||e.lastWinner===A&&1===e.deck1.length)},O=function(e,t){var c=parseInt(e[a.selectedAttribute],10),r=parseInt(t[a.selectedAttribute],10),i={};i=e.topTrump||c>r?Object(d.a)(Object(d.a)({},a),{},{lastWinner:y}):t.topTrump||c<r?Object(d.a)(Object(d.a)({},a),{},{lastWinner:A}):Object(d.a)(Object(d.a)({},a),{},{isDraw:!0}),console.log("game in handlePlay willGameEnd() ",h(i)),console.log("game in handlePlay newGame.isDraw ",i.isDraw),i=Object(d.a)(Object(d.a)({},i),{},{status:h(i)?x:"done"}),s(Object(d.a)({},i)),console.log("game in handlePlay ",a)},m=function(e,t){var c=Object(d.a)(Object(d.a)({},a),{},{status:v,selectedAttribute:void 0,isDraw:!1});a.isDraw?(c.deck1=[].concat(Object(l.a)(a.deck1.slice(1)),[e]),c.deck2=[].concat(Object(l.a)(a.deck2.slice(1)),[t])):(c.deck1=[].concat(Object(l.a)(a.deck1.slice(1)),Object(l.a)(a.lastWinner===y?[e,t]:[])),c.deck2=[].concat(Object(l.a)(a.deck2.slice(1)),Object(l.a)(a.lastWinner===A?[e,t]:[]))),s(Object(d.a)(Object(d.a)({},a),c)),console.log("game in handleShuffle ",a)};return Object(c.jsx)("div",{className:"star-wars-top-trumps",children:a&&a.deck1&&Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)(b,{player1Score:"over"===a.status&&1===a.deck1.length?0:"over"===a.status&&9===a.deck1.length?10:a.deck1.length,player2Score:"over"===a.status&&1===a.deck2.length?0:"over"===a.status&&9===a.deck2.length?10:a.deck2.length}),a.status===x&&Object(c.jsx)("div",{className:"winner-box ".concat(a.winner),children:"player1"===a.winner?Object(c.jsx)("span",{children:"Player 1 won"}):Object(c.jsx)("span",{children:"Player 2 won"})}),Object(c.jsx)(P,{player1Card:a.deck1[0],player2Card:a.deck2[0],selectedAttribute:a.selectedAttribute,status:a.status,handleAttributeSelection:function(e){s(Object(d.a)(Object(d.a)({},a),{},{selectedAttribute:e}))},lastWinner:a.lastWinner,isDraw:a.isDraw}),Object(c.jsx)(L,{status:a.status,isPlayEnabled:!!a.selectedAttribute,handleButtonClick:function(){var e=a.deck1[0],t=a.deck2[0];switch(a.status){case x:j();break;case k:p();break;case v:O(e,t);break;default:m(e,t)}console.log("game in handleButtonClick ",a)}})]})})};n.a.render(Object(c.jsx)(_,{}),document.getElementById("root"))}],[[34,1,2]]]);
//# sourceMappingURL=main.75e3222e.chunk.js.map